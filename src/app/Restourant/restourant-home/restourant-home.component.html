<section>
    <div class="main-section">
        <app-filter-section (finalData)="onFinalData($event)"></app-filter-section>
        <main>
            <ul class="list-group list-group-horizontal">
                <li (click)="getProductsData()" class="list-group-item transition-1" >All</li>
                <li *ngFor="let category of categories index as i" 
                    class="list-group-item transition-1" 
                    [ngClass]="{'onclick': activeIndex === i}" 
                    (click)="setActive(i); getFilteredProducts(category.id)">{{category.name}}</li>
            </ul>
        </main>
        <div class="content" >
            <div class="content-card" *ngFor="let product of products">
                <div class="card-img">
                    <img [src]="product.image" alt="test">
                </div>
                <div class="card-info">
                    <h4>{{product.name}}</h4>
                    <p>Price:{{'$' + product.price}}</p>
                    <div class="ingredients">
                        <p style="font-weight:bold">Nuts: <span *ngIf="product.nuts">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="limegreen" class="bi bi-check-circle-fill" viewBox="0 0 16 16">
                                <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                              </svg></span>
                          <span *ngIf="!product.nuts">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="red" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
                                <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"/>
                              </svg></span></p>
                        <p style="font-weight:bold">Vegetarian: 
                            <span *ngIf="product.vegeterian">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="limegreen" class="bi bi-check-circle-fill" viewBox="0 0 16 16">
                                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                                  </svg></span>
                            <span *ngIf="!product.vegeterian">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="red" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
                                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"/>
                                  </svg>
                        </span></p>
                        <p style="font-weight:bold">Spiciness: 
                            <span 
                            [ngClass]="{'low-spiciness': product.spiciness <= 2, 'high-spiciness': product.spiciness >=3}">
                                {{product.spiciness}}
                            </span>
                            <span style="margin-left: 3px; color:red" *ngIf="product.spiciness == 4">
                                (spicy)
                            </span>
                        </p>
                    </div>
                    
                    <button class="details-btn">ADD TO CART</button>
                </div>
            </div>
        </div>
        <div class="notfound" *ngIf="productsLength == 0"><img src="assets/images/productnotfound.jpg" alt=""><br><p>SORRY, PRODUCT NOT FOUND!</p></div>
    </div>
</section>
